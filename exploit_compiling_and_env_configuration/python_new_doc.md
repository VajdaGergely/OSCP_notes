# Python environment, python exploits
## configure python environment for exploits
### create python venv (Python3-nal erdemes hasznalni)
* source: https://www.freecodecamp.org/news/how-to-setup-virtual-environments-in-python/
<pre>
<b># create new folder and step in it</b>
$ mkdir newFold
$ cd newFold

<b># create virtual env</b>
$ python3.8 -m venv env

<b># activate virtual env</b>
$ source env/bin/activate

<b># check the environment</b>
$ pip list
(for testing, run it in a new terminal and check the difference)

<b># deactivate virtual env</b>
$ deactivate
</pre>
### create docker for Python2 projects
### using dedicated vm and snapshots for Python2 projects
(egyertelmu a mukodese, nem kell itt kulon kifejteni)
## pimpmykali.sh 1-es menupont (Fix missing)
* ezek a leglenyegesebb dolgok, amik nekunk kellenek azok kozul amiket csinal
  * installs python xlrd==1.2.0
  * python3-pip installed
  * python-pip installation via curl
  * ?? uncomment #deb-src from /etc/apt/sources.list
* a konkret parancsok amiket futtat (csak a szamunkra relevansak)
<pre>
# installing pip and libraries
$ pip install xlrd==1.2.0 --upgrade
$ pip3 install scapy==2.4.4 --upgrade
$ curl https://raw.githubusercontent.com/pypa/get-pip/3843bff3a0a61da5b63ea0b7d34794c5c51a2f11/2.7/get-pip.py -o /tmp/get-pip.py

# symlinking python2.7 to python (gondolom ez azert jo mert a sima python paranccsal tudom futtatni a python2.7-et)
$ [[ -f /bin/python2.7 ]] && ln -sf /bin/python2.7 /bin/python

# other things
$ python /tmp/get-pip.py
$ pip --no-python-version-warning install setuptools
$ apt -y reinstall python3-pip
</pre>
## official sources for python versions
* versions with release date and support time
  * https://devguide.python.org/versions/
* official documentation for every single python version
  * https://www.python.org/doc/versions/
* python source code releases for all versions
  * https://www.python.org/downloads/source/
## python verziok
* Python1
  * Nem hasznaljuk mar semmihez sem.
  * Nincs olyan exploit amihez szukseg lenne ra, kb a regiek is mind Python2-vel mennek (nagyon regi egzotikus exploithoz kellhet esetleg...de mi ilyenekkel nem talalkozunk)
  * Kamillonak az elmult 10 evben egyszer sem kellett hasznalnia.
* Python2
  * Mar nem supportalt
  * Rengeteg gond van vele
  * Sok kulon szart kell hozza mokolni, hogy mukodjon
  * Jo otlet csinalni egy kulon kornyezetet a Python2-nek dockerrel vagy egy kulon vm-et megcsinalni neki
  * pimpmykali.sh megoldja amugy tobbnyire - helyrerak mindent amit kell
    * https://github.com/Dewalt-arch/pimpmykali
* Python3
  * Alapvetoen jol mukodik
  * De itt a kulonbozo Python3-as dolgok tudnak osszeakadni egymassal
  * Erdemes a python3-hoz mindig venv-et hasznalni es azon belul csinalni a dolgokat
## HTB-s gepek
* Kb az osszes HTB gephez Python2 kell
* Egyikhez sem kell Python1
* (Lehet hogy van mar par darab, mondjuk uj, amihez Python3 kell)
* A leirasbol vagy a megjelenes datumabol derul ki, hogy melyik python verzio kell egy exploit-hoz!
## Exploitok futtatasa es python kornyezet konfiguralasa
* Python1 nem kell semmihez, felejtsuk el
* Python3-hoz hasznaljunk venv-et es a lehetseges problemak nagy resze egybol megoldodik
* Python2-hoz hasznaljunk egy kulon dockert vagy egy teljesen kulon vm-et -> amit snapshot-bol utana vissza lehet majd allitani
## impacket
* Van python2-es impacket es python3-as impacket
* A pimpmykali.sh kb mindet megoldja
  * https://github.com/Dewalt-arch/pimpmykali
* De megprobalhatjuk mi is megoldani magunktol
## virtualenv
* python2.7-hez mar van elvileg
  * valszeg ez a regi paranccsal mukodik
  <pre>
  $ virtualenv --python="/usr/bin/python2.6" "/path/to/new/virtualenv/"
  </pre>
  * valszeg kulon telepiteni kell hozza lib-eket
    * pip2 install virtualenv
* python 3.3-tol mar az uj paranccsal lehet hasznalni
  * nem kell hozza telepiteni semmit
  <pre>
  $ python3 -m venv "my_env_name"
  $ python3.6 -m venv "my_env_name"
  </pre>
* python1-hez nincs virtualenv
  * de ez nem gond, mert python1-et mar amugy sem hasznalunk sehol
